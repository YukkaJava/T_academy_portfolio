## Проект по A/B тестированию: Оптимизация алгоритма подбора промокодов для реактивации пользователей

### Описание проекта
Данный проект посвящен проведению A/B тестирования нового алгоритма подбора промокодов для реактивации пользователей. Цель эксперимента — оценить эффективность нового алгоритма в сравнении с текущим продуктовым процессом, измерив влияние на ключевые показатели вовлеченности, дохода и лояльности пользователей.

### Постановка задачи
В продукте существует регулярный процесс реактивации пользователей, где сегмент для реактивации и условия применения промокода подбираются с помощью ML. Мы хотим проверить эффективность нового алгоритма подбора промокодов. Вопрос: Стало ли лучше?

### Гипотезы
* Нулевая гипотеза (H0)
Новый алгоритм подбора промокодов не приведет к статистически значимому изменению (росту) ни по одной из ключевых метрик и не приведет к статистически значимому негативному изменению (падению) ни по одной из приемочных метрик.
* Альтернативная гипотеза (H1)
Новый алгоритм подбора промокодов приведет к статистически значимому положительному изменению (росту) хотя бы по одной из ключевых метрик и не приведет к статистически значимому негативному изменению (падению) ни по одной из приемочных метрик.

### Метрики для теста

#### Ключевые метрики
> Эти метрики напрямую измеряют успех эксперимента и должны показать статистически значимые изменения, если гипотеза H1 верна. Они отвечают на вопрос: "Стало ли лучше?"

* _User Retention Rate:_ Доля уникальных пользователей, совершивших хотя бы один успешный заказ после реактивации.
* _Average Completed Orders per User:_ Общее количество завершенных заказов в группе, деленное на общее количество уникальных пользователей.
* _Average GMV per User:_ Суммарный GMV всех пользователей в группе за вычетом промо, деленный на общее количество уникальных пользователей.

#### Приемочные метрики
> Эти метрики не являются основной целью эксперимента, но их стабильность или положительная динамика важна. Резкое ухудшение приемочных метрик может свидетельствовать о негативных побочных эффектах нового алгоритма.

* _Average Promo per User:_ Общая сумма всех примененных промокодов в группе, деленная на общее количество уникальных пользователей.
* _Percentage of Users Who Used Promo:_ Количество уникальных пользователей, использовавших промо, деленное на общее количество уникальных пользователей в группе.
* _Cancellation Rate:_ Общее количество отмененных заказов в группе, деленное на общее количество всех заказов в группе.
* _Average User Cancellation Rate:_ Средняя доля отмененных заказов на пользователя.

### Группы теста
* Группа А (Контрольная): Пользователи, которые будут проходить процесс реактивации по текущему (старому) алгоритму подбора промокодов.
* Группа В (Экспериментальная): Пользователи, которые будут проходить процесс реактивации по новому алгоритму подбора промокодов.

### Критерии принятия решения

#### Успех эксперимента
* Статистически значимое положительное изменение (рост) хотя бы одной из ключевых метрик в экспериментальной группе по сравнению с контрольной (p-value < 0.05).
* Отсутствие статистически значимого негативного изменения (падения) или наличие статистически значимого положительного изменения в приемочных метриках. Незначительное увеличение Average Promo per User при значительном росте GMV может быть приемлемым, если ROI оправдан.

#### Неудача эксперимента
* Отсутствие статистически значимого положительного изменения в ключевых метриках.
* Статистически значимое негативное изменение в одной или нескольких приемочных метриках.

### MDE (Minimum Detectable Effect)
> MDE — это минимальный размер эффекта, который мы хотим обнаружить с заданной статистической мощностью.

* User Retention Rate (0.30% MDE): Очень чувствительная метрика.
* Avg Completed Orders per User (1.09% MDE): Достаточно чувствительная метрика.
* Average GMV per User (3.35% MDE): Умеренный MDE, для обнаружения существенного финансового влияния потребуется изменение более 3%.
* Average Promo per User (4.73% MDE): Важно отслеживать, чтобы избежать неоправданного увеличения затрат на промо.
* Percentage of Users Who Used Promo (1.95% MDE): Хороший показатель чувствительности.
* Average Order Value per User (Net Promo) (2.80% MDE): Важная метрика для оценки качества заказов.
* Average User Cancellation Rate (6.56% MDE): Самый высокий MDE (%), требующий более значительного изменения для обнаружения статистической значимости.

Полученные значения MDE критически важны для расчета необходимого размера выборки и длительности A/B-теста.

### Результаты A/B теста

Размеры групп (экспериментальный период):
* Контрольная группа: 32236 пользователей
* Тестовая группа: 32033 пользователей

#### Ключевые метрики: уверенный рост

* User Retention Rate: +7.82% (p-value: 0.0000, статистически значимо). Новый алгоритм эффективно возвращает пользователей, увеличивая их удержание.
* Average Completed Orders per User: +10.08% (p-value: 0.0000, статистически значимо). Пользователи не только возвращаются, но и совершают больше заказов.
* Average GMV per User: +15.61% (p-value: 0.0003, статистически значимо). Ключевой бизнес-показатель: каждый пользователь приносит значительно больше дохода.

#### Приемочные метрики: положительная динамика и отсутствие рисков

* Average Promo per User: +19.06% (p-value: 0.0004). Рост GMV оправдывает увеличение затрат на промо.
* Percentage of Users Who Used Promo: +11.71% (p-value: 0.0000). Новые промо более привлекательны и релевантны для пользователей.
* Average Order Value per User (Net Promo): +10.71% (p-value: 0.0000). Пользователи совершают более дорогие покупки (за вычетом промо).
* Average User Cancellation Rate: +3.03% (p-value: 0.5421, не статистически значимо). Важно: новый алгоритм не привел к росту отмененных заказов.

### Заключение
На основе убедительных положительных результатов по всем ключевым метрикам и отсутствия негативных побочных эффектов, новый алгоритм подбора промокодов рекомендуется к внедрению.